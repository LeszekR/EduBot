<!-- HEADER -->
<!-- ........................................................................................... -->
<nav class="navbar navbar-default navbar-static-top d-flex pl-1 pr-2 pt-0">


    <div class="container.fluid d-flex flex-row w-100 p-0 m-0">

        <!-- POLITECHNIKA GDAŃSKA -->
        <a class="navbar-brand primary-color pull-left pl-0 ml-0" routerLink="/">
            <img src="/assets/img/logo-pg.png" class="nav-img">
            <span style="margin-left: 65px">Edugame</span>
        </a>


        <!-- EDIT mode buttons -->
        <div *ngIf="context.userRole == 1 || context.userRole == 2" class="d-flex align-items-center justify-content-center ml-auto">
            <button class="btn btn-primary btn-xs" (click)="toggleEditMode()">
                {{ context.isEditMode ? ('edit.exit_edit_mode' | translate) : ('edit.enter_edit_mode' | translate) }}
            </button>
            <button class="btn btn-primary btn-xs ml-4" (click)="setEmoState(-1)">Nuda</button>
            <button class="btn btn-primary btn-xs ml-1" (click)="setEmoState(0)">Ok</button>
            <button class="btn btn-primary btn-xs ml-1" (click)="setEmoState(1)">Frustra</button>
            <button class="btn btn-primary btn-xs ml-4" (click)="setEmoState(2)">Czyść historie</button>
            <button class="btn btn-primary btn-xs ml-1" (click)="mockSendPic()">Ślij zdjęcie</button>
        </div>


        <!-- GAME PROGRESS -->
        <div *ngIf="context.userRole==0" class="ml-auto">
            <progress-comp *ngIf="context.userRole" [gameScore]="context.gameScore"></progress-comp>
        </div>


        <!-- LANGUAGE CHOOSERS -->
        <div class="container">
            <div>
                <a *ngIf="context.userRole == 1" routerLink="/user-management" class="navbar-link pr-2" routerLinkActive="active" title="{{ 'toolbar.manage_users' | translate }}">
                    <i class="fa fa-user-circle-o fa-2x i-mid"></i>
                </a>
            </div>
            <div class="ml-auto pull-right">
                <select-language></select-language>
            </div>
        </div>


        <!-- LOG IN -->
        <!-- <div class="pos-absolute-right w-10 p-0"> -->
        <div class="pull-right w-10 p-0 ml-2">
            <a *ngIf="!context.userRole" class="nvbar-link pr-2" title="{{ 'toolbar.log_in' | translate }}" (click)="openLoginWindow()">
                <i class="fa fa-sign-in fa-2x"></i>
            </a>
            <a *ngIf="context.userRole" class="nvbar-link pr-2" title="{{ 'toolbar.log_out' | translate }}" (click)="loginService.logout()">
                <i class="fa fa-sign-out fa-2x"></i>
            </a>
        </div>

    </div>
</nav>



<!-- BODY - module list and module view -->
<!-- ........................................................................................... -->
<div class="container-fluid main-container d-flex p-0 m-0">
    <div id="module-list-view" class=" col-3 h-100  m-0 p-0 pt-1">
        <module-list-view *ngIf="context.userRole"></module-list-view>
    </div>

    <div id="module-content-example" class="col-9  m-0 p-0">
        <router-outlet></router-outlet>
        <message-modal></message-modal>
    </div>
</div>



<!-- FOOTER -->
<!-- ........................................................................................... -->
<!-- <footer class="footer">
    <div class="container-fluid d-flex">
        <div>
            <a *ngIf="context.userRole == 1" routerLink="/user-management" class="navbar-link pr-2" routerLinkActive="active" title="{{ 'toolbar.manage_users' | translate }}">
                <i class="fa fa-user-circle-o fa-2x i-mid"></i>
            </a>
        </div>
        <div class="ml-auto">
            <select-language></select-language>
        </div>
    </div>
</footer> -->



<!-- ........................................................................................... -->
<!-- LOGIN WINDOW -->
<!-- ........................................................................................... -->
<div class="modal fade" bsModal #loginModal="bs-modal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title pull-left">
                    <i class="fa fa-user-circle-o"></i> {{ 'login' | translate }} </h4>
                <button type="button" class="close pull-right" title="Close" (click)="loginModal.hide()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <login (onClose)="loginModal.hide()"></login>
            </div>
        </div>
    </div>
</div>